<!--
    단순히 표시하는 엘레멘트를 추가하는 것은 간단하다. 다만, 클릭하면 무엇을 실행한다와 같은 기능을 가진 엘레멘트 제작법?
    JavaScript에서는 onclick과는 다른 이벤트 임베딩의 방식도 준비되어 있다 -> "이벤트 리스너"

    이벤트리스너 = 이벤트를 관리하기 위한 전용 오브젝트
    이것을 엘레멘트에 임베딩하기 위해서 addEventListner라는 메소드가 준비되어 있다.

    <엘레멘트>.addEventListner (종류, 리스너);

    제거:  <엘레멘트>.removeEventListner (종류, 리스너);

-->

<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>Hello!</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.css">
    </head>
    <body class="container">
        <h1>Hello!</h1>
        <p id="msg" class="h4" onclick="action(event)">type item...</p>
        <div class="form-group">
            <label for="f1">Item:</label>
            <input type="text" id="f1" class="form-control">
        </div>
        <div class="form-group">
            <button onclick="action(event)" class="btn btn-primary">
            Click!
            </button>
        </div>
        <h6>List</h6>
        <ul id="list" class="list-group"></ul>
        <script>
            function action(event){
                var f1 = document.querySelector('#f1');
                var list = document.querySelector('#list');
                var msg = document.querySelector('#msg');
                if (f1.value == ''){
                    var item = list.children[0].remove();
                } else {
                    var li = document.createElement('li');
                    li.className = 'list-group-item';
                    li.textContent = f1.value;
                    li.addEventListener("click", clickItem)
                    list.appendChild(li);
                    msg.textContent= ' [' + f1.value + ']を追加しました。';
                    f1.value = '';
                }
            }

            function clickItem(event){
                var item = event.target;
                var items = item.parentNode.childNodes;
                for (var i =0; i < items.length; i++) {
                    items[i].classList.remove('active');
                }
                item.classList.add('active')
                var msg = document.querySelector('#msg')
                msg.textContent = 'selected: '+ item.textContent;
            }
        </script>
        
    </body>
</html>

<!-- 
   event.target: 이벤트가 발생한 엘레멘트를 변수 item으로 꺼내온다.
   그 parentNode 프로퍼티의 childNodes 프로퍼티를 변수로 꺼내온다
   -> 이로서, 전<li>의 엘레멘트를 꺼내올 수 있다.

   이때, 'parentNode'라는 것은, 그 엘레멘트를 가지고 있는 부모의 엘레멘트가 보관되어 있는 프로퍼티.
   <li>의 엘레멘트라면, 그것이 임베딩되어있는 <ul>의 엘레멘트가 parentNode에서 얻어진다. 

   'childNodes': 그 안에 임베딩되어있는 자식의 모든 노드를 꺼낸다. 
   -> <ul>의 엘레먼트의 childNodes라면, 그 안에 있는 모든 <li>가 꺼내져온다. 

   그 다음, for 문으로 변수 items에서 순서대로 엘레멘트를 꺼내오고, 그 classList.remove로 active 클래스를 제거하여간다.
-->

<!--
    JavaScript에서 HTML의 요소를 조작한다 = HTML요소를 DOM오브젝트로 꺼내와서, 그 오브젝트의 속성을 조작한다.
    HTML을 제대로 이해함으로써, JavaScriopt로 조작할 때, ~한 속성이 HTML 요소에 있엇다, 
    혹은 이 표시는 이런 스타일로 설정되었다 -> 이렇게 하면 스크립트 적기가 수월하다. 
    사실 프로트엔드에 대해서는 이정도로 JS설명 끝. 기본적인 문법으로도 충분하다. 
    이후에는, HTML요소를 JavaScript에서 어떻게 이용할까 정도다. 

    단, 백엔드(서버 측)에서는 이게 통하지 않는다. 서버에서 스크립트를 적을 때는, 웹페이지의 기능은 쓸 수 없다.
    서버에서 움직이기 때문에, 같은 JavaScript라도, 프론트엔드와 백엔드에서는 매우 다르다. 
    백엔드를 위한게 Node.js인가! 
-->